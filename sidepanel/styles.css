/* =============================================================================
   Side Panel Styles — ADO to PA Copypaster
   Tab bar, layout, page context banner, admin CRUD panel.
   ============================================================================= */

/* ─── Alpine.js Cloak ──────────────────────────────────────────────────────── */
/*
   [x-cloak] is set by the developer in HTML on elements that should start
   hidden.  Alpine removes this attribute once it has initialised and evaluated
   the element's x-show expression.  Without this CSS rule the attribute has no
   effect and the element would flash visible before Alpine hides it.
   !important is required so this rule beats any other display declarations.
*/
[x-cloak] { display: none !important; }

/* ─── Base Reset & Layout ──────────────────────────────────────────────────── */

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* Chrome Side Panel occupies the full viewport height of its panel window.
   We use a flex column on #app so the tab bar stays fixed at the top and the
   tab content area fills and scrolls the remaining space. */
html,
body {
  height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
               "Helvetica Neue", Arial, sans-serif;
  font-size: 14px;
  line-height: 1.5;
  color: #1f2937;       /* near-black — good contrast against white backgrounds */
  background: #ffffff;
}

#app {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;     /* scrolling is per-panel, not the whole app container */
}

/* ─── Tab Bar ──────────────────────────────────────────────────────────────── */

.tab-bar {
  display: flex;
  flex-shrink: 0;       /* never compressed — always visible at the top */
  border-bottom: 1px solid #e5e7eb;
  background: #f9fafb;
}

.tab-btn {
  flex: 1;
  padding: 10px 0;
  background: none;
  border: none;
  /* Bottom border acts as the active indicator — transparent by default. */
  border-bottom: 2px solid transparent;
  font-size: 14px;
  font-weight: 500;
  color: #6b7280;       /* muted grey — inactive tab text */
  cursor: pointer;
  transition: color 0.15s ease, border-color 0.15s ease;
}

.tab-btn:hover {
  color: #374151;       /* slightly darker on hover to signal interactivity */
}

.tab-btn:focus-visible {
  outline: 2px solid #2563eb;
  outline-offset: -2px;
}

/* Active state: brand blue underline + matching text colour */
.tab-btn--active {
  color: #2563eb;
  border-bottom-color: #2563eb;
}

/* ─── Tab Panels ───────────────────────────────────────────────────────────── */

[role="tabpanel"] {
  flex: 1;
  overflow-y: auto;     /* each panel scrolls independently */
  padding: 12px 14px;
}

/* ─── Page Context Banner (Phase 11 — brand colours) ───────────────────────── */
/*
   Three rows — ADO, PA, unsupported — are always in the DOM; Alpine's x-show
   hides the two that don't match the current pageType.  Each row has a distinct
   background tint so the user can instantly identify the current context at a
   glance without reading the text.

   Phase 11 D-7 changes:
     • ADO row: Microsoft ADO blue (#1565C0 text, #90CAF9 border, #E3F2FD bg)
     • PA row:  PowerApps purple (#7B1FA2 text, #CE93D8 border, #F3E5F5 bg)
     • Unsupported: white background with grey border (#616161 text)
     • Dot replaced by a CSS 10px circle; emoji content removed.

   role="status" + aria-live="polite" on the parent means screen readers
   announce a change whenever pageType updates (via TAB_CHANGED push).

   Each row carries its own border so only one border is visible at a time
   (matching whichever row x-show is making visible).  The container has no
   border of its own — overflow:hidden + border-radius round the visible row.
*/

.context-banner {
  margin-bottom: 0;     /* Phase 11 UX: no gap below banner — overwrite badge provides spacing */
  border-radius: 6px;
  overflow: hidden;     /* clip each row's border-radius to the container */
}

.context-banner__row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 12px;
  font-size: 15px;      /* Phase 11 UX: larger text for instant page-context recognition */
  line-height: 1.4;
  /* transparent border by default — prevents layout shift when border appears */
  border: 1px solid transparent;
  border-radius: 6px;
}

/* ADO — Microsoft ADO blue */
.context-banner__row--ado {
  background: #E3F2FD;
  border-color: #90CAF9;
  color: #1565C0;
}

/* PowerApps — brand purple */
.context-banner__row--pa {
  background: #F3E5F5;
  border-color: #CE93D8;
  color: #7B1FA2;
}

/* Unsupported — white with neutral grey border */
.context-banner__row--unsupported {
  background: #FFFFFF;
  border-color: #E0E0E0;
  color: #616161;
}

/* ── Context dot — CSS circle (Phase 11; replaces emoji) ──────────────────────
   A 10px filled circle whose background-color is set per banner variant below.
   aria-hidden="true" in HTML — the surrounding text label conveys the meaning
   to screen readers.
*/
.context-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;       /* never wraps or compresses */
}

.context-banner__row--ado         .context-dot { background-color: #1565C0; }
.context-banner__row--pa          .context-dot { background-color: #7B1FA2; }
.context-banner__row--unsupported .context-dot { background-color: #9CA3AF; }

/* ── Spinner inside context banner rows (phase-12 UX fix) ────────────────────
   Each operation's spinner lives inside its corresponding banner row so it
   never inserts/removes itself from the action-buttons flex row — which was
   causing the button bar and field list below to shift for a micro-second.

   margin-left: auto pushes the spinner to the far right of the banner's own
   flex container, aligned with the right edge of the panel.

   Colors are tinted to match each banner variant so the spinner feels native
   to the banner rather than visually foreign.
*/
.context-banner__row .spinner {
  margin-left: auto;     /* push to far right within the banner flex row */
  flex-shrink: 0;
}

/* ADO banner — match the #1565C0 / #90CAF9 ADO blue palette */
.context-banner__row--ado .spinner {
  border-color:     #90CAF9;
  border-top-color: #1565C0;
}

/* PA banner — match the #7B1FA2 / #CE93D8 PowerApps purple palette */
.context-banner__row--pa .spinner {
  border-color:     #CE93D8;
  border-top-color: #7B1FA2;
}

/* ─── Action Buttons  (Phase 7 / 10 / 11) ─────────────────────────────────── */

.action-buttons {
  display: flex;
  flex-direction: row;   /* buttons and spinners side-by-side */
  align-items: center;
  gap: 10px;
  margin-bottom: 14px;
  flex-wrap: wrap;       /* gracefully stacks on very narrow panels */
}

/* Phase 11: All action buttons in the User Tab are taller (48px) with a
   smaller font (12px) so they read well at the compact panel width.
   (spec: sidepanel-shell §ADDED button styling; MT-35) */
.action-buttons .btn {
  height: 48px;
  font-size: 12px;
}

/* Copy Initiative — ADO blue (#0078D4).
   Uses .btn--copy rather than overriding .btn--primary so Admin tab Save /
   "+ Add Mapping" buttons (#2563eb) are not affected.  (task 7.3; MT-35) */
.btn--copy {
  background: #0078D4;
  border-color: #0078D4;
  color: #ffffff;
}

.btn--copy:hover:not(:disabled) {
  background: #006CBE;
  border-color: #006CBE;
}

/* Paste to PowerApps — PA purple (#742774).  (task 7.3; MT-35) */
.btn--paste {
  background: #742774;
  border-color: #742774;
  color: #ffffff;
}

.btn--paste:hover:not(:disabled) {
  background: #5D1C5D;
  border-color: #5D1C5D;
}

/* Clear — neutral grey.  Resets field rows to NOT COPIED.  (task 7.3; MT-35) */
.btn--clear {
  background: #F3F4F6;
  border-color: #D1D5DB;
  color: #374151;
}

.btn--clear:hover:not(:disabled) {
  background: #E5E7EB;
  border-color: #9CA3AF;
}

/* Disabled state for all User Tab action buttons — #CCCCCC fill + #888888 text.
   opacity: 1 overrides the generic .btn:disabled opacity: 0.45 so the
   explicit colour values are what the user sees.  (task 7.3; MT-35) */
.action-buttons .btn:disabled {
  background: #CCCCCC;
  border-color: #CCCCCC;
  color: #888888;
  cursor: not-allowed;
  opacity: 1;
}

/* ── Spinner ────────────────────────────────────────────────────────────────
   CSS border-based rotating spinner — no external image or SVG needed.
   The transparent top border creates the "gap" in the spinning ring.
   animation: spin is defined below via @keyframes.
   Matches the visual weight of the .btn elements it sits beside.
*/
.spinner {
  width: 18px;
  height: 18px;
  border: 2px solid #bfdbfe;       /* light-blue track ring */
  border-top-color: #2563eb;       /* brand blue — the "active" segment */
  border-radius: 50%;
  animation: spin 0.7s linear infinite;
  flex-shrink: 0;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ─── Field Section  (Phase 11 — always-visible field list) ────────────────── */
/*
   Replaces the old per-operation .field-results lists (Phase 7/10).
   Every enabled mapping is always visible — the state badge and secondary
   line reflect the most recent operation (copy / paste / clear).

   Layout per row:
     [icon 24px] [label flex:1] ··· [badge right-aligned]
                 [secondary line — full width, indented to label]

   The secondary line uses flex-wrap: wrap so it drops onto its own line
   while the icon+label+badge stay on the first line.  (§7.2 Field Row
   Structure; spec: user-tab-field-states)
*/

.field-section {
  margin-top: 4px;
}

/* "FIELDS" heading — 11px uppercase label shown when at least one mapping
   is configured.  Matches the "── Field Mappings ──" label weight.  */
.field-section__label {
  font-size: 11px;
  font-weight: 600;
  color: #9CA3AF;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  padding: 0 2px 6px;
  margin: 0;
}

.field-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

/* Individual field row — flex wrap so secondary line drops below */
.field-row {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  min-height: 40px;
  padding: 6px 10px;
  gap: 0 6px;             /* column gap between inline items; no row gap */
  border-bottom: 1px solid #F3F4F6;
}

/* Icon glyph — fixed 24px width so label and badge align regardless of glyph */
.field-row__icon {
  width: 24px;
  flex-shrink: 0;
  font-size: 13px;
  text-align: center;
}

/* Label — grows to fill remaining space on the first line */
.field-row__label {
  flex: 1;
  min-width: 0;
  font-size: 13px;
  font-weight: 500;
  color: #1F2937;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Badge — pushed to the far right via margin-left: auto
   Class string is returned wholesale by getFieldBadgeClass() in JS so the
   Alpine :class binding is a single method call.  (SPEC.md §3.2; design D-1) */
.field-row__badge {
  margin-left: auto;
  flex-shrink: 0;
  font-size: 8px;       /* Phase 11 UX: smaller badge keeps the row compact */
  font-weight: 700;
  border-radius: 4px;
  padding: 2px 6px;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

/* Secondary line — breaks to full width below icon+label+badge.
   padding-left aligns the text under the label (icon width + column gap).
   width: 88% (Phase 11 UX) leaves a small right gutter so the text doesn't
   crowd the badge column on longer messages. */
.field-row__secondary {
  width: 88%;
  padding-left: 30px;   /* icon (24px) + gap (6px) */
  font-size: 12px;
  line-height: 1.3;
}

/* ── Badge state variants ────────────────────────────────────────────────────
   Colours from SPEC.md §7.2 Field State Reference / task 7.5.
   Each class is applied wholesale by getFieldBadgeClass() — they include
   the .field-row__badge base class so no separate <span class="field-row__badge">
   is needed in the HTML.
*/

/* NOT COPIED — muted grey text, very subtle translucent grey fill so the
   badge pill is visible without drawing the eye (Phase 11 UX amendment) */
.badge--not-copied {
  color: #9CA3AF;
  background: #0000000f; /* ~6% black — just enough to define the pill shape */
}

/* COPIED — green on pale green */
.badge--copied {
  color: #16A34A;
  background: #DCFCE7;
}

/* FAILED (copy) — white on red */
.badge--copy-failed {
  color: #FFFFFF;
  background: #DC2626;
}

/* PASTED — white on green */
.badge--pasted {
  color: #FFFFFF;
  background: #16A34A;
}

/* FAILED (paste) — white on red */
.badge--paste-failed {
  color: #FFFFFF;
  background: #DC2626;
}

/* SKIPPED — amber on pale yellow */
.badge--skipped {
  color: #D97706;
  background: #FEF3C7;
}

/* ── Secondary line state modifiers ─────────────────────────────────────────
   Class string is returned wholesale by getFieldSecondaryClass() in JS.
*/

/* Copied/pasted value — muted grey; content is just the data value */
.field-row__secondary--value {
  color: #6B7280;
}

/* Error message (copy_failed / paste_failed) — red, smaller */
.field-row__secondary--failed {
  color: #DC2626;
  font-size: 11px;
}

/* Skip reason — amber, smaller */
.field-row__secondary--skipped {
  color: #D97706;
  font-size: 11px;
}

/* ─── Phase 10 — Overwrite Mode badge ──────────────────────────────────────── */

/*
  The badge sits in the User Tab between the context banner and the action
  buttons.  It is read-only (no hover/focus styles) and intentionally small
  so it does not compete with the action buttons.  (design D-9; SPEC §3.2)
*/

.overwrite-badge-row {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 18px 12px;   /* Phase 11 UX: more breathing room above/below the badge */
  font-size: 11px;
}

.overwrite-badge__label {
  color: #64748b;
  font-weight: 500;
}

/* Base badge pill */
.overwrite-badge {
  display: inline-block;
  padding: 1px 8px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.04em;
  border: 1px solid transparent;
  cursor: default; /* badge is not interactive */
  user-select: none;
}

/* ON variant — green pill to signal "overwriting is active" */
.overwrite-badge--on {
  background: #dcfce7;
  border-color: #86efac;
  color: #166534;
}

/* OFF variant — neutral grey pill to signal "safe mode, no overwrite" */
.overwrite-badge--off {
  background: #f1f5f9;
  border-color: #cbd5e1;
  color: #475569;
}

/* ─── Admin Tab  (Phase 5 – 9) ─────────────────────────────────────────────── */

/* ── Shared button utilities ────────────────────────────────────────────────── */
/*
   .btn is the base for every clickable button in the extension.
   Variants (.btn--primary, .btn--secondary, .btn--danger, .btn--small) are
   composed via additional classes — BEM modifier pattern.
*/

.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 6px 12px;
  border-radius: 4px;
  border: 1px solid transparent;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  line-height: 1.4;
  transition: background 0.12s ease, border-color 0.12s ease, color 0.12s ease;
  white-space: nowrap;
}

.btn:focus-visible {
  outline: 2px solid #2563eb;
  outline-offset: 2px;
}

/* Primary — solid blue fill (Save, + Add Mapping) */
.btn--primary {
  background: #2563eb;
  border-color: #2563eb;
  color: #ffffff;
}

.btn--primary:hover:not(:disabled) {
  background: #1d4ed8;
  border-color: #1d4ed8;
}

/* Secondary — outlined, neutral (Cancel, Pick from Page, Export/Import) */
.btn--secondary {
  background: #ffffff;
  border-color: #d1d5db;
  color: #374151;
}

.btn--secondary:hover:not(:disabled) {
  background: #f3f4f6;
  border-color: #9ca3af;
}

/* Danger — red outline (Delete) */
.btn--danger {
  background: #ffffff;
  border-color: #fca5a5;
  color: #dc2626;
}

.btn--danger:hover:not(:disabled) {
  background: #fef2f2;
  border-color: #f87171;
}

/* Small variant — reduced padding for compact list rows */
.btn--small {
  padding: 3px 8px;
  font-size: 12px;
}

/* Disabled state applies to all variants */
.btn:disabled {
  opacity: 0.45;
  cursor: not-allowed;
}

/* ── Screen-reader-only utility ─────────────────────────────────────────────── */
/*
   .sr-only visually hides text while keeping it accessible to screen readers.
   Used on the "Enabled" label text inside the checkbox so sighted users see
   only the checkbox, while assistive technology reads the label.
*/
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ── Task 9.4 — Settings section (Overwrite Mode) ───────────────────────────── */

.settings-section {
  margin-bottom: 16px;
  padding-bottom: 14px;
  border-bottom: 1px solid #e5e7eb;
}

.settings-section__heading {
  font-size: 13px;
  font-weight: 600;
  color: #374151;
  margin-bottom: 10px;
  letter-spacing: 0.01em;
}

/* Overwrite Mode checkbox row */
.overwrite-mode-label {
  display: flex;
  align-items: flex-start;
  gap: 8px;
  font-size: 13px;
  color: #374151;
  cursor: pointer;
  line-height: 1.4;
}

.overwrite-mode-checkbox {
  flex-shrink: 0;
  width: 14px;
  height: 14px;
  margin-top: 2px; /* visually align with first text line */
  cursor: pointer;
  accent-color: #2563eb;
}

/* ── Task 9.1 — Mapping list row styles ─────────────────────────────────────── */

.mapping-section {
  margin-bottom: 16px;
}

/* Section header row: title on the left, "+ Add Mapping" button on the right */
.mapping-section__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
}

.mapping-section__title {
  font-size: 12px;
  font-weight: 600;
  color: #6b7280;    /* muted — separator-like visual weight */
  letter-spacing: 0.02em;
}

/* Reset the default list styles — we use <ul role="list"> for accessibility */
.mapping-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

/* Each row: info (label + badge) on the left, controls on the right */
.mapping-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 10px;
  background: #f9fafb;
  border: 1px solid #e5e7eb;
  border-radius: 5px;
  gap: 8px;
}

.mapping-row__info {
  display: flex;
  align-items: center;
  gap: 8px;
  min-width: 0;    /* allow text to truncate inside flex */
  flex: 1;
}

.mapping-row__label {
  font-size: 13px;
  font-weight: 500;
  color: #1f2937;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* FieldType badges — pill-shaped with colour per type */
.badge {
  display: inline-block;
  padding: 1px 6px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 600;
  letter-spacing: 0.03em;
  text-transform: lowercase;
  flex-shrink: 0;
}

/* text — neutral grey (most common type, low visual noise) */
.badge--text {
  background: #f3f4f6;
  color: #6b7280;
  border: 1px solid #e5e7eb;
}

/* lookup — blue (matches the brand colour; lookup implies a relationship) */
.badge--lookup {
  background: #eff6ff;
  color: #1d4ed8;
  border: 1px solid #bfdbfe;
}

/* choice — purple (distinct from lookup; choice is a discrete selection) */
.badge--choice {
  background: #f5f3ff;
  color: #6d28d9;
  border: 1px solid #ddd6fe;
}

/* Controls section: enabled checkbox + Edit + Delete */
.mapping-row__controls {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-shrink: 0;
}

/* Wrapper that makes the entire checkbox area clickable */
.mapping-row__enabled-label {
  display: flex;
  align-items: center;
  cursor: pointer;
  margin: 0;
}

.mapping-row__enabled-checkbox {
  width: 14px;
  height: 14px;
  cursor: pointer;
  accent-color: #2563eb;
}

/* ── Task 9.3 — Empty-state message ─────────────────────────────────────────── */
/*
   Shown when settings.mappings is empty. Muted and centred so it doesn't
   compete visually with the "+ Add Mapping" button.
*/
.empty-state {
  text-align: center;
  font-size: 13px;
  color: #9ca3af;
  padding: 20px 0 12px;
  line-height: 1.5;
}

/* ── Task 9.2 — Mapping form styles ─────────────────────────────────────────── */

.mapping-form {
  margin-top: 12px;
  padding: 14px;
  background: #ffffff;
  border: 1px solid #d1d5db;
  border-radius: 6px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.mapping-form__heading {
  font-size: 14px;
  font-weight: 600;
  color: #111827;
  margin: 0;
}

/* form-group: label + input pair */
.form-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.form-group__label {
  font-size: 12px;
  font-weight: 600;
  color: #374151;
  letter-spacing: 0.01em;
}

/* The asterisk inside label spans is aria-hidden — purely decorative */
.form-group__label span[aria-hidden] {
  color: #dc2626;
  margin-left: 2px;
}

/* Text inputs fill the available width */
.form-group__input {
  width: 100%;
  padding: 6px 8px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  font-size: 13px;
  color: #1f2937;
  background: #ffffff;
  transition: border-color 0.12s ease, box-shadow 0.12s ease;
  box-sizing: border-box;
}

.form-group__input:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.15);
}

/* Row variant: input + deferred action buttons side by side */
.form-group__row {
  display: flex;
  align-items: center;
  gap: 6px;
}

.form-group__row .form-group__input {
  flex: 1;
  min-width: 0;
}

/* Field Type select — same sizing as text inputs */
.form-group__select {
  width: 100%;
  padding: 6px 8px;
  border: 1px solid #d1d5db;
  border-radius: 4px;
  font-size: 13px;
  color: #1f2937;
  background: #ffffff;
  cursor: pointer;
  transition: border-color 0.12s ease;
  box-sizing: border-box;
}

.form-group__select:focus {
  outline: none;
  border-color: #2563eb;
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.15);
}

/* Inline validation error — rendered below the field set, above Save/Cancel */
.inline-error {
  font-size: 12px;
  color: #dc2626;    /* red — standard error colour */
  margin: 0;
  line-height: 1.4;
}

/* Inline picker warning — shown when the element picker could not determine a
   field schema name from the clicked element.
   Amber/yellow colour matches .status-blank to signal "soft warning, not a
   hard error".  The subtle background tint and border differentiate it from
   the plain .inline-error above. (design D-6; tasks.md §6.2) */
.inline-warning {
  font-size: 12px;
  color: #92400e;          /* amber text — same token as .status-blank */
  background: #fffbeb;     /* pale yellow background — same token as .status-blank */
  border: 1px solid #fde68a;
  border-radius: 4px;
  padding: 4px 8px;
  margin-top: 4px;
  margin-bottom: 0;
  line-height: 1.4;
}

/* ── Inline test result display (Phase 9) ────────────────────────────────────
   Shown below the ADO Selector input (adoTestResult) and below the Field Schema
   Name input (paTestResult) after the corresponding Test button completes.
   Uses the same compact, font-weight-500 style as .import-message to remain
   visually consistent with other inline feedback elements in the form.
   (spec §Inline test result display; design D-2) */
.inline-test-result {
  font-size: 12px;
  font-weight: 500;
  margin-top: 4px;
  margin-bottom: 0;
  padding: 4px 8px;
  border-radius: 4px;
  line-height: 1.4;
}

/* Found — green, matching the PA page-context banner and element-picker outline */
.test-result--found {
  background: #f0fdf4;
  color: #166534;
  border: 1px solid #bbf7d0;
}

/* Not found / error — red, matching the inline-error / danger button tones */
.test-result--not-found {
  background: #fef2f2;
  color: #dc2626;
  border: 1px solid #fca5a5;
}

/* Save + Cancel button row */
.mapping-form__actions {
  display: flex;
  gap: 8px;
}

/* ── Export / Import section (Phase 6) ─────────────────────────────────────── */
/*
   Sits at the bottom of the Admin tab. The section wraps the button row and
   the inline feedback message. Border-top visually separates this utility area
   from the mapping list above.
*/
.import-export-section {
  padding-top: 14px;
  margin-top: 6px;
  border-top: 1px solid #e5e7eb;
}

/* Button row — right-aligned so it doesn't compete with the mapping content */
.import-export-bar {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

/* ── Visually-hidden utility ─────────────────────────────────────────────────
   Positions an element off-screen without using display:none.
   Why not display:none?
     Some browsers do not fire a programmatic .click() on display:none elements,
     which would silently break the Import file picker trigger. Using this class
     instead keeps the element in the layout and accessible to scripts, while
     being invisible and zero-size to the user. (design.md Decision 3)
   Based on the standard .sr-only pattern above. */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
  /* No margin: -1px to avoid shifting layout, unlike .sr-only which is
     optimised for text. For a file input, the padding: 0 + 1px size is
     sufficient to keep it out of the visual flow. */
}

/* ── Import feedback message ─────────────────────────────────────────────────
   Displayed below the Import/Export button row after each import attempt.
   Green for success, red for errors. Shown inline (not as a browser dialog)
   per the spec requirement that alert() is never used. (§7.3)
*/
.import-message {
  margin-top: 8px;
  padding: 7px 10px;
  border-radius: 4px;
  font-size: 12px;
  line-height: 1.4;
  font-weight: 500;
}

/* Success — green, matching the PA page-context banner tones */
.import-message--success {
  background: #f0fdf4;
  color: #166534;
  border: 1px solid #bbf7d0;
}

/* Error — red, matching the inline-error / danger button tones */
.import-message--error {
  background: #fef2f2;
  color: #dc2626;
  border: 1px solid #fca5a5;
}
